<!-- Generated by SpecStory -->

# Fix all warnings in cargo run (2025-06-10 09:27:36)

_**User**_

cargo run -- stream --assets 114958730573125526612912243930828259708735043205885434298792431454274812704617 --show-book --show-trades
warning: unused import: `EnrichmentType`
   --> src/cli/commands/datasets.rs:348:43
    |
348 |         use crate::datasets::{DataSource, EnrichmentType};
    |                                           ^^^^^^^^^^^^^^
    |
    = note: `#[warn(unused_imports)]` on by default

warning: unexpected `cfg` condition value: `sandbox`
  --> src/cli/mod.rs:95:33
   |
95 |         if self.sandbox || cfg!(feature = "sandbox") {
   |                                 ^^^^^^^^^^^^^^^^^^^ help: remove the condition
   |
   = note: no expected values for `feature`
   = help: consider adding `sandbox` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
   = note: `#[warn(unexpected_cfgs)]` on by default

warning: unused import: `std::time::Instant`
 --> src/markets/fetcher.rs:4:5
  |
4 | use std::time::Instant;
  |     ^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::auth::get_authenticated_client`
  --> src/markets/enrich.rs:18:5
   |
18 | use crate::auth::get_authenticated_client;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `url::Url`
  --> src/ws/client.rs:13:5
   |
13 | use url::Url;
   |     ^^^^^^^^

warning: unused import: `Local`
 --> src/datasets/mod.rs:4:29
  |
4 | use chrono::{DateTime, Utc, Local};
  |                             ^^^^^

warning: unused import: `DatasetType`
  --> src/datasets/tui.rs:21:80
   |
21 | use super::{DatasetInfo, DatasetManager, DatasetManagerConfig, DatasetSummary, DatasetType};
   |                                                                                ^^^^^^^^^^^

warning: use of deprecated method `ratatui::Frame::<'_>::size`: use .area() as it's the more correct name
   --> src/datasets/tui.rs:324:22
    |
324 |         let size = f.size();
    |                      ^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: use of deprecated method `ratatui::Frame::<'_>::size`: use .area() as it's the more correct name
   --> src/datasets/tui.rs:533:22
    |
533 |         let size = f.size();
    |                      ^^^^

warning: use of deprecated method `ratatui::Frame::<'_>::size`: use .area() as it's the more correct name
   --> src/datasets/tui.rs:615:22
    |
615 |         let size = f.size();
    |                      ^^^^

warning: unused variable: `detected_commands`
   --> src/datasets/mod.rs:429:17
    |
429 |         let mut detected_commands: Vec<String> = Vec::new();
    |                 ^^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_detected_commands`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: variable does not need to be mutable
   --> src/datasets/mod.rs:429:13
    |
429 |         let mut detected_commands: Vec<String> = Vec::new();
    |             ----^^^^^^^^^^^^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
   --> src/datasets/mod.rs:434:13
    |
434 |         let mut source_dataset = None;
    |             ----^^^^^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: unused variable: `content_sample`
   --> src/datasets/mod.rs:556:50
    |
556 |     pub fn from_filename_and_content(name: &str, content_sample: Option<&[u8]>) -> Self {
    |                                                  ^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_content_sample`

warning: methods `chunk_size_bytes` and `get_summary` are never used
   --> src/markets/storage.rs:29:12
    |
16  | impl MarketStorage {
    | ------------------ methods in this implementation
...
29  |     pub fn chunk_size_bytes(&self) -> usize {
    |            ^^^^^^^^^^^^^^^^
...
113 |     pub fn get_summary(&self, chunk_count: usize, prefix: &str) -> Result<StorageSummary> {
    |            ^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: struct `StorageSummary` is never constructed
   --> src/markets/storage.rs:146:12
    |
146 | pub struct StorageSummary {
    |            ^^^^^^^^^^^^^^
    |
    = note: `StorageSummary` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: method `display` is never used
   --> src/markets/storage.rs:154:12
    |
153 | impl StorageSummary {
    | ------------------- method in this implementation
154 |     pub fn display(&self) {
    |            ^^^^^^^

warning: methods `primary_token` and `is_binary` are never used
   --> src/markets/fetcher.rs:297:12
    |
209 | impl Market {
    | ----------- methods in this implementation
...
297 |     pub fn primary_token(&self) -> Option<&MarketToken> {
    |            ^^^^^^^^^^^^^
...
304 |     pub fn is_binary(&self) -> bool {
    |            ^^^^^^^^^

warning: associated function `new` is never used
   --> src/markets/fetcher.rs:379:12
    |
378 | impl<T: MarketDataProvider> MarketFetcher<T> {
    | -------------------------------------------- associated function in this implementation
379 |     pub fn new(provider: T, storage: MarketStorage) -> Self {
    |            ^^^

warning: method `get_markets_in_chunk` is never used
   --> src/markets/fetcher.rs:718:8
    |
713 | pub trait FetchState: Serialize + for<'de> Deserialize<'de> {
    |           ---------- method in this trait
...
718 |     fn get_markets_in_chunk(&self) -> usize;
    |        ^^^^^^^^^^^^^^^^^^^^

warning: method `save_progress` is never used
   --> src/markets/enrich.rs:726:8
    |
253 | impl MarketEnricher {
    | ------------------- method in this implementation
...
726 |     fn save_progress(&self, output_path: &Path, markets: &[EnrichedMarket]) -> Result<()> {
    |        ^^^^^^^^^^^^^

warning: methods `convert_to_enhanced_orders` and `convert_single_order` are never used
   --> src/orders.rs:414:8
    |
167 | impl OrderManager {
    | ----------------- methods in this implementation
...
414 |     fn convert_to_enhanced_orders(&self, raw_orders: Vec<serde_json::Value>) -> Vec<EnhancedOrder> {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
421 |     fn convert_single_order(&self, order_value: serde_json::Value) -> Result<EnhancedOrder> {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: field `config` is never read
  --> src/ws/client.rs:76:5
   |
75 | pub struct WsClient {
   |            -------- field in this struct
76 |     config: WsConfig,
   |     ^^^^^^

warning: `polybot` (lib) generated 23 warnings (run `cargo fix --lib -p polybot` to apply 8 suggestions)
warning: unused import: `std::time::Instant`
 --> src/markets/fetcher.rs:4:5
  |
4 | use std::time::Instant;
  |     ^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `EnrichmentType`
   --> src/cli/commands/datasets.rs:348:43
    |
348 |         use crate::datasets::{DataSource, EnrichmentType};
    |                                           ^^^^^^^^^^^^^^

warning: unused import: `state::*`
  --> src/ws/mod.rs:15:9
   |
15 | pub use state::*; 
   |         ^^^^^^^^

warning: associated items `with_config`, `convert_to_enhanced_orders`, `convert_single_order`, `get_statistics`, and `reset_statistics` are never used
   --> src/orders.rs:178:12
    |
167 | impl OrderManager {
    | ----------------- associated items in this implementation
...
178 |     pub fn with_config(config: OrderConfig) -> Self {
    |            ^^^^^^^^^^^
...
414 |     fn convert_to_enhanced_orders(&self, raw_orders: Vec<serde_json::Value>) -> Vec<EnhancedOrder> {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^
...
421 |     fn convert_single_order(&self, order_value: serde_json::Value) -> Result<EnhancedOrder> {
    |        ^^^^^^^^^^^^^^^^^^^^
...
716 |     pub fn get_statistics(&self) -> &OrderStatistics {
    |            ^^^^^^^^^^^^^^
...
721 |     pub fn reset_statistics(&mut self) {
    |            ^^^^^^^^^^^^^^^^

warning: method `root` is never used
  --> src/data_paths.rs:33:12
   |
24 | impl DataPaths {
   | -------------- method in this implementation
...
33 |     pub fn root(&self) -> &Path {
   |            ^^^^

warning: variants `ReconnectionFailed` and `NotConnected` are never constructed
  --> src/ws/client.rs:26:5
   |
16 | pub enum WsError {
   |          ------- variants in this enum
...
26 |     ReconnectionFailed,
   |     ^^^^^^^^^^^^^^^^^^
27 |     #[error("Client not connected")]
28 |     NotConnected,
   |     ^^^^^^^^^^^^
   |
   = note: `WsError` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: variant `Ping` is never constructed
  --> src/ws/client.rs:39:5
   |
33 | pub enum WsCommand {
   |          --------- variant in this enum
...
39 |     Ping,
   |     ^^^^
   |
   = note: `WsCommand` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: method `ping` is never used
   --> src/ws/client.rs:146:12
    |
81  | impl WsClient {
    | ------------- method in this implementation
...
146 |     pub fn ping(&self) -> Result<(), WsError> {
    |            ^^^^

warning: variant `HashMismatch` is never constructed
  --> src/ws/events.rs:12:5
   |
8  | pub enum EventError {
   |          ---------- variant in this enum
...
12 |     HashMismatch { expected: String, actual: String },
   |     ^^^^^^^^^^^^
   |
   = note: `EventError` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `timestamp` is never read
  --> src/ws/events.rs:47:9
   |
42 |     Trade {
   |     ----- field in this variant
...
47 |         timestamp: u64,
   |         ^^^^^^^^^
   |
   = note: `PolyEvent` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `order_id` is never read
  --> src/ws/events.rs:51:9
   |
50 |     MyOrder {
   |     ------- field in this variant
51 |         order_id: String,
   |         ^^^^^^^^
   |
   = note: `PolyEvent` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: fields `trade_id`, `order_id`, and `timestamp` are never read
  --> src/ws/events.rs:60:9
   |
59 |     MyTrade {
   |     ------- fields in this variant
60 |         trade_id: String,
   |         ^^^^^^^^
61 |         order_id: String,
   |         ^^^^^^^^
...
66 |         timestamp: u64,
   |         ^^^^^^^^^
   |
   = note: `PolyEvent` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: variant `InvalidPriceLevel` is never constructed
  --> src/ws/state.rs:15:5
   |
11 | pub enum StateError {
   |          ---------- variant in this enum
...
15 |     InvalidPriceLevel(String),
   |     ^^^^^^^^^^^^^^^^^
   |
   = note: `StateError` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: multiple methods are never used
   --> src/ws/state.rs:161:12
    |
33  | impl OrderBook {
    | -------------- methods in this implementation
...
161 |     pub fn mid_price(&self) -> Option<Decimal> {
    |            ^^^^^^^^^
...
171 |     pub fn spread(&self) -> Option<Decimal> {
    |            ^^^^^^
...
179 |     pub fn total_bid_size(&self) -> Decimal {
    |            ^^^^^^^^^^^^^^
...
184 |     pub fn total_ask_size(&self) -> Decimal {
    |            ^^^^^^^^^^^^^^
...
189 |     pub fn depth(&self) -> (usize, usize) {
    |            ^^^^^
...
194 |     pub fn levels(&self, depth: usize) -> (Vec<(Decimal, Decimal)>, Vec<(Decimal, Decimal)>) {
    |            ^^^^^^
...
237 |     pub fn is_empty(&self) -> bool {
    |            ^^^^^^^^

warning: variant `ClientNotAvailable` is never constructed
  --> src/services/streamer.rs:29:5
   |
19 | pub enum StreamerError {
   |          ------------- variant in this enum
...
29 |     ClientNotAvailable,
   |     ^^^^^^^^^^^^^^^^^^
   |
   = note: `StreamerError` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: method `get_order_book` is never used
   --> src/services/streamer.rs:160:12
    |
75  | impl Streamer {
    | ------------- method in this implementation
...
160 |     pub fn get_order_book(&self, asset_id: &str) -> Option<OrderBook> {
    |            ^^^^^^^^^^^^^^

warning: field `working_dir` is never read
  --> src/pipeline/mod.rs:57:9
   |
53 | pub struct PipelineContext {
   |            --------------- field in this struct
...
57 |     pub working_dir: String,
   |         ^^^^^^^^^^^
   |
   = note: `PipelineContext` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `default_parameters` is never read
  --> src/pipeline/config.rs:16:9
   |
12 | pub struct PipelineConfig {
   |            -------------- field in this struct
...
16 |     pub default_parameters: HashMap<String, String>,
   |         ^^^^^^^^^^^^^^^^^^
   |
   = note: `PipelineConfig` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: methods `with_parameter` and `ensure_pipelines_dir` are never used
  --> src/pipeline/config.rs:41:12
   |
28 | impl PipelineConfig {
   | ------------------- methods in this implementation
...
41 |     pub fn with_parameter(mut self, key: String, value: String) -> Self {
   |            ^^^^^^^^^^^^^^
...
62 |     pub fn ensure_pipelines_dir(&self) -> Result<()> {
   |            ^^^^^^^^^^^^^^^^^^^^

warning: field `skipped_steps` is never read
  --> src/pipeline/runner.rs:18:9
   |
14 | pub struct PipelineStats {
   |            ------------- field in this struct
...
18 |     pub skipped_steps: usize,
   |         ^^^^^^^^^^^^^
   |
   = note: `PipelineStats` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: associated function `new` is never used
  --> src/pipeline/runner.rs:32:12
   |
30 | impl PipelineRunner {
   | ------------------- associated function in this implementation
31 |     /// Create a new pipeline runner
32 |     pub fn new(binary_name: String) -> Self {
   |            ^^^

warning: method `display_name` is never used
   --> src/datasets/mod.rs:609:12
    |
554 | impl FileType {
    | ------------- method in this implementation
...
609 |     pub fn display_name(&self) -> String {
    |            ^^^^^^^^^^^^

warning: method `display_name` is never used
   --> src/datasets/mod.rs:636:8
    |
635 | impl JsonSubtype {
    | ---------------- method in this implementation
636 |     fn display_name(&self) -> &'static str {
    |        ^^^^^^^^^^^^

warning: method `display_name` is never used
   --> src/datasets/mod.rs:649:8
    |
648 | impl YamlPurpose {
    | ---------------- method in this implementation
649 |     fn display_name(&self) -> &'static str {
    |        ^^^^^^^^^^^^

warning: method `display_name` is never used
   --> src/datasets/mod.rs:660:8
    |
659 | impl LogLevel {
    | ------------- method in this implementation
660 |     fn display_name(&self) -> &'static str {
    |        ^^^^^^^^^^^^

warning: method `display_name` is never used
   --> src/datasets/mod.rs:672:8
    |
671 | impl BinaryFormat {
    | ----------------- method in this implementation
672 |     fn display_name(&self) -> &'static str {
    |        ^^^^^^^^^^^^

warning: method `display_name` is never used
   --> src/datasets/mod.rs:684:8
    |
683 | impl TextFormat {
    | --------------- method in this implementation
684 |     fn display_name(&self) -> &'static str {
    |        ^^^^^^^^^^^^

warning: method `display_name` is never used
   --> src/datasets/mod.rs:695:8
    |
694 | impl ArchiveFormat {
    | ------------------ method in this implementation
695 |     fn display_name(&self) -> &'static str {
    |        ^^^^^^^^^^^^

warning: method `health_score` is never used
   --> src/datasets/mod.rs:753:12
    |
705 | impl DatasetInfo {
    | ---------------- method in this implementation
...
753 |     pub fn health_score(&self) -> f64 {
    |            ^^^^^^^^^^^^

warning: associated items `default`, `get_datasets_by_type`, `total_size`, and `total_files` are never used
   --> src/datasets/manager.rs:64:12
    |
53  | impl DatasetManager {
    | ------------------- associated items in this implementation
...
64  |     pub fn default() -> Self {
    |            ^^^^^^^
...
621 |     pub fn get_datasets_by_type(&self, dataset_type: DatasetType) -> Vec<&DatasetInfo> {
    |            ^^^^^^^^^^^^^^^^^^^^
...
628 |     pub fn total_size(&self) -> u64 {
    |            ^^^^^^^^^^
...
633 |     pub fn total_files(&self) -> usize {
    |            ^^^^^^^^^^^

warning: struct `ErrorContext` is never constructed
 --> src/errors.rs:9:12
  |
9 | pub struct ErrorContext {
  |            ^^^^^^^^^^^^
  |
  = note: `ErrorContext` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: methods `with_context_and_suggestions` and `with_file_context` are never used
  --> src/errors.rs:17:8
   |
16 | pub trait ErrorEnhancement<T> {
   |           ---------------- methods in this trait
17 |     fn with_context_and_suggestions(self, operation: &str, suggestions: Vec<&str>) -> Result<T>;
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
18 |     fn with_file_context(self, operation: &str, file_path: &Path) -> Result<T>;
   |        ^^^^^^^^^^^^^^^^^

warning: function `display_error` is never used
   --> src/errors.rs:114:8
    |
114 | pub fn display_error(error: &anyhow::Error) {
    |        ^^^^^^^^^^^^^

warning: function `display_warning` is never used
   --> src/errors.rs:119:8
    |
119 | pub fn display_warning(message: &str) {
    |        ^^^^^^^^^^^^^^^

warning: function `display_info` is never used
   --> src/errors.rs:124:8
    |
124 | pub fn display_info(message: &str) {
    |        ^^^^^^^^^^^^

warning: function `missing_argument_error` is never used
   --> src/errors.rs:129:8
    |
129 | pub fn missing_argument_error(arg_name: &str, command: &str) -> anyhow::Error {
    |        ^^^^^^^^^^^^^^^^^^^^^^

warning: function `invalid_format_error` is never used
   --> src/errors.rs:142:8
    |
142 | pub fn invalid_format_error(file_path: &Path, expected_formats: &[&str]) -> anyhow::Error {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `network_error` is never used
   --> src/errors.rs:153:8
    |
153 | pub fn network_error(operation: &str, url: Option<&str>, suggestions: Vec<&str>) -> anyhow::Error {
    |        ^^^^^^^^^^^^^

warning: function `auth_error` is never used
   --> src/errors.rs:183:8
    |
183 | pub fn auth_error(operation: &str) -> anyhow::Error {
    |        ^^^^^^^^^^

warning: function `parse_error` is never used
   --> src/errors.rs:196:8
    |
196 | pub fn parse_error(data_type: &str, additional_context: Option<&str>) -> anyhow::Error {
    |        ^^^^^^^^^^^

warning: function `resource_error` is never used
   --> src/errors.rs:215:8
    |
215 | pub fn resource_error(resource: &str, current: u64, limit: u64) -> anyhow::Error {
    |        ^^^^^^^^^^^^^^

warning: type alias `PolyResult` is never used
   --> src/errors.rs:244:10
    |
244 | pub type PolyResult<T> = Result<T, anyhow::Error>;
    |          ^^^^^^^^^^

warning: `polybot` (bin "polybot") generated 62 warnings (20 duplicates) (run `cargo fix --bin "polybot"` to apply 3 suggestions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.39s
     Running `target/debug/polybot stream --assets 114958730573125526612912243930828259708735043205885434298792431454274812704617 --show-book --show-trades`
ðŸš€ Starting Polymarket WebSocket stream...
ðŸ“Š Streaming 1 assets
âœ… Streaming started. Press Ctrl+C to stop.
^C
^C^C^C^Z
zsh: suspended  cargo run -- stream --assets  --show-book --show-trades

look at every single warning and fix it - do not deprecate things, either remove them or implement them

---

_**Assistant**_



---

I'll systematically fix all the warnings in your codebase. Let me start by addressing each warning category:

---

Read file: src/cli/commands/datasets.rs

---



---



---



---

Read file: src/cli/mod.rs

---



---



---



---

Read file: src/markets/fetcher.rs

---



---



---



---

Read file: src/markets/enrich.rs

---



---



---



---

Read file: src/ws/client.rs

---



---



---



---

Read file: src/datasets/mod.rs

---



---



---



---

Read file: src/datasets/tui.rs

---



---



---



---



---



---



---



---

<details>
            <summary>Grep search for "f\.size\(\)" â€¢ **7** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L532 | `let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L614 | `let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_06-27-untitled.md` | L59 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_06-27-untitled.md` | L67 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_06-27-untitled.md` | L73 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_22-37-resolve-unresolved-import-error.md` | L221 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_22-37-resolve-unresolved-import-error.md` | L230 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_22-37-resolve-unresolved-import-error.md` | L237 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_22-37-resolve-unresolved-import-error.md` | L1015 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_22-37-resolve-unresolved-import-error.md` | L1023 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_22-37-resolve-unresolved-import-error.md` | L1029 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_03-58-organize-data-folder-structure-and-naming.md` | L4559 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_03-58-organize-data-folder-structure-and-naming.md` | L4567 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_03-58-organize-data-folder-structure-and-naming.md` | L4573 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L184 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L193 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L200 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L404 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L412 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L418 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L1616 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L1624 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L1630 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L2418 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L2426 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L2432 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L2837 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L2845 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L2851 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L3197 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L3205 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L3211 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L4250 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L4258 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L4264 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L4611 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L4619 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L4625 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L4969 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L4977 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L4983 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L5503 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L5511 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L5517 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L5836 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L5844 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L5850 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L6177 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L6185 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L6191 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L7525 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L7533 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L7539 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L13071 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L13148 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-09_23-13-resolve-unresolved-import-error.md` | L13154 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L2018 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L2026 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L2032 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L2887 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L2895 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L2901 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L4117 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L4126 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L4133 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L4809 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L4817 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L4823 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L5854 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L5862 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L5868 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L7048 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L7056 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L7062 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L8173 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L8181 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L8187 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L9725 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L9734 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L9741 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L11025 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L11033 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L11039 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L12612 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L12621 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L12628 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L13149 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L13157 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L13163 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L13966 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L13974 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L13980 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L14571 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L14579 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L14585 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L15178 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L15186 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L15192 | `615 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L15860 | `324 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/.specstory/history/2025-06-10_01-19-fixing-datasetwarning-display-error.md` | L15868 | `533 |         let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L532 | `let size = f.size();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L614 | `let size = f.size();` |

</details>

---



---

Read file: src/datasets/tui.rs

---



---



---



---



---



---



---



---

Read file: src/datasets/mod.rs

---



---



---



---



---



---

Read file: src/ws/mod.rs

---



---

<details>
            <summary>Grep search for "use crate::ws::state::" â€¢ **0** files</summary>
        
No results found
</details>

---



---

Read file: src/ws/state.rs

---



---

<details>
            <summary>Grep search for "OrderBook" â€¢ **13** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L7 | `state::{OrderBook, StateError},` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L64 | `order_books: Arc<DashMap<String, OrderBook>>,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L159 | `pub fn get_order_book(&self, asset_id: &str) -> Option<OrderBook> {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L164 | `pub fn get_all_order_books(&self) -> Vec<(String, OrderBook)> {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L232 | `order_books: &DashMap<String, OrderBook>,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L306 | `order_books: &DashMap<String, OrderBook>,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L312 | `.or_insert_with(|| OrderBook::new(asset_id.to_string()));` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L332 | `order_books: &DashMap<String, OrderBook>,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L37 | `/// Include orderbook data (best bid/ask, mid price, spread)` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L39 | `pub include_orderbook: bool,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L46 | `/// Maximum orderbook depth to analyze` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L115 | `/// Orderbook metrics` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L117 | `pub orderbook: Option<OrderbookMetrics>,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L128 | `/// Orderbook-derived metrics` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L130 | `pub struct OrderbookMetrics {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L164 | `pub has_orderbook: bool,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L176 | `has_orderbook: false,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L198 | `pub markets_with_orderbook: usize,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L258 | `include_orderbook: args.include_orderbook,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L498 | `has_orderbook: false,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L577 | `// Fetch orderbook data if requested` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L578 | `if config.include_orderbook || config.include_liquidity {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L580 | `Ok(orderbook) => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L581 | `enrichment.status.has_orderbook = true;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L583 | `// Calculate orderbook metrics` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L584 | `if config.include_orderbook {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L585 | `if let Some(orderbook_metrics) = Self::calculate_orderbook_metrics(&orderbook) {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L586 | `enrichment.orderbook = Some(orderbook_metrics);` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L588 | `warnings.push("Empty orderbook - no metrics available".to_string());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L594 | `let liquidity_metrics = Self::calculate_liquidity_metrics(&orderbook);` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L599 | `warnings.push(format!("Orderbook error: {}", e));` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L618 | `has_orderbook: enrichment.orderbook.is_some(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L627 | `/// Calculate orderbook metrics` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L628 | `fn calculate_orderbook_metrics(orderbook: &polymarket_rs_client::OrderBookSummary) -> Option<OrderbookMetrics> {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L629 | `let best_bid = orderbook.bids.iter().map(|b| b.price).max()?;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L630 | `let best_ask = orderbook.asks.iter().map(|a| a.price).min()?;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L642 | `Some(OrderbookMetrics {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L648 | `bid_levels: orderbook.bids.len(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L649 | `ask_levels: orderbook.asks.len(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L654 | `fn calculate_liquidity_metrics(orderbook: &polymarket_rs_client::OrderBookSummary) -> LiquidityMetrics {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L655 | `let total_bid_size: Decimal = orderbook.bids.iter().map(|b| b.size).sum();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L656 | `let total_ask_size: Decimal = orderbook.asks.iter().map(|a| a.size).sum();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L673 | `bid_orders_count: orderbook.bids.len(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L674 | `ask_orders_count: orderbook.asks.len(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L741 | `let mut markets_with_orderbook = 0;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L751 | `if market.enrichment.status.has_orderbook {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L752 | `markets_with_orderbook += 1;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L761 | `if let Some(ref orderbook) = market.enrichment.orderbook {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L762 | `total_spread_pct += orderbook.spread_percentage;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L787 | `markets_with_orderbook,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L809 | `additional_info.insert("include_orderbook".to_string(), serde_json::json!(self.config.include_orderbook));` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L838 | `println!("Markets with orderbook: {}", statistics.markets_with_orderbook.to_string().bright_cyan());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L860 | `include_orderbook: false,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L5 | `/// Show orderbook for a specific token` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L6 | `pub async fn show_orderbook(` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L13 | `format!("ðŸ“ˆ Fetching orderbook for token {}...", token_id).bright_blue()` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L16 | `// Fetch orderbook` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L17 | `let orderbook = client.get_order_book(token_id).await?;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L20 | `let mid_price = if !orderbook.bids.is_empty() && !orderbook.asks.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L22 | `let best_bid = orderbook.bids.iter()` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L26 | `let best_ask = orderbook.asks.iter()` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L42 | `let mut relevant_bids: Vec<_> = orderbook.bids.iter()` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L48 | `let mut relevant_asks: Vec<_> = orderbook.asks.iter()` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/book.rs` | L25 | `crate::markets::show_orderbook(client, &self.args.token_id, self.args.depth).await?;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/markets.rs` | L11 | `/// Show actively traded markets (live orderbook data)` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/markets.rs` | L93 | `// Actively traded markets with orderbook data` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/enrich.rs` | L12 | `/// Include orderbook data (best bid/ask, spread, depth)` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/enrich.rs` | L14 | `pub include_orderbook: bool,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/enrich.rs` | L24 | `/// Maximum orderbook depth to fetch (levels on each side)` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/mod.rs` | L63 | `/// Show orderbook for a token` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/mod.rs` | L5 | `mod orderbook;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/mod.rs` | L21 | `pub use orderbook::show_orderbook;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L199 | `/// Real-time orderbook data` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L200 | `Orderbook,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L542 | `EnrichmentType::Orderbook => "Orderbook".to_string(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L892 | `if file.name.contains("orderbook") {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L893 | `types.push(EnrichmentType::Orderbook);` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L7 | `/// List actively traded markets by checking orderbook activity` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L81 | `// Now check orderbooks for these markets` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L82 | `println!("{}", "ðŸ“ˆ Checking orderbooks for trading activity...".bright_cyan());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L158 | `// Fetch orderbook for YES token` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L160 | `Ok(orderbook) => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L162 | `if orderbook.bids.is_empty() || orderbook.asks.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L37 | `/// Include orderbook data (best bid/ask, mid price, spread)` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L39 | `pub include_orderbook: bool,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L46 | `/// Maximum orderbook depth to analyze` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L115 | `/// Orderbook metrics` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L117 | `pub orderbook: Option<OrderbookMetrics>,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L128 | `/// Orderbook-derived metrics` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L130 | `pub struct OrderbookMetrics {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L164 | `pub has_orderbook: bool,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L176 | `has_orderbook: false,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L198 | `pub markets_with_orderbook: usize,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L258 | `include_orderbook: args.include_orderbook,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L498 | `has_orderbook: false,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L577 | `// Fetch orderbook data if requested` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L578 | `if config.include_orderbook || config.include_liquidity {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L580 | `Ok(orderbook) => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L581 | `enrichment.status.has_orderbook = true;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L583 | `// Calculate orderbook metrics` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L584 | `if config.include_orderbook {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L585 | `if let Some(orderbook_metrics) = Self::calculate_orderbook_metrics(&orderbook) {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L586 | `enrichment.orderbook = Some(orderbook_metrics);` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L588 | `warnings.push("Empty orderbook - no metrics available".to_string());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L594 | `let liquidity_metrics = Self::calculate_liquidity_metrics(&orderbook);` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L599 | `warnings.push(format!("Orderbook error: {}", e));` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L618 | `has_orderbook: enrichment.orderbook.is_some(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L627 | `/// Calculate orderbook metrics` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L628 | `fn calculate_orderbook_metrics(orderbook: &polymarket_rs_client::OrderBookSummary) -> Option<OrderbookMetrics> {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L629 | `let best_bid = orderbook.bids.iter().map(|b| b.price).max()?;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L630 | `let best_ask = orderbook.asks.iter().map(|a| a.price).min()?;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L642 | `Some(OrderbookMetrics {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L648 | `bid_levels: orderbook.bids.len(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L649 | `ask_levels: orderbook.asks.len(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L654 | `fn calculate_liquidity_metrics(orderbook: &polymarket_rs_client::OrderBookSummary) -> LiquidityMetrics {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L655 | `let total_bid_size: Decimal = orderbook.bids.iter().map(|b| b.size).sum();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L656 | `let total_ask_size: Decimal = orderbook.asks.iter().map(|a| a.size).sum();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L673 | `bid_orders_count: orderbook.bids.len(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L674 | `ask_orders_count: orderbook.asks.len(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L741 | `let mut markets_with_orderbook = 0;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L751 | `if market.enrichment.status.has_orderbook {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L752 | `markets_with_orderbook += 1;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L761 | `if let Some(ref orderbook) = market.enrichment.orderbook {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L762 | `total_spread_pct += orderbook.spread_percentage;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L787 | `markets_with_orderbook,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L809 | `additional_info.insert("include_orderbook".to_string(), serde_json::json!(self.config.include_orderbook));` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L838 | `println!("Markets with orderbook: {}", statistics.markets_with_orderbook.to_string().bright_cyan());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L860 | `include_orderbook: false,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/mod.rs` | L63 | `/// Show orderbook for a token` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L199 | `/// Real-time orderbook data` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L200 | `Orderbook,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L542 | `EnrichmentType::Orderbook => "Orderbook".to_string(),` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L892 | `if file.name.contains("orderbook") {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L893 | `types.push(EnrichmentType::Orderbook);` |

</details>

---



---

Read file: src/markets/storage.rs

---



---

<details>
            <summary>Grep search for "chunk_size_bytes" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L70 | `pub chunk_size_bytes: usize,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L120 | `chunk_size_bytes: 10 * 1024 * 1024, // 10MB` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L481 | `if !current_chunk.is_empty() && current_chunk_size + market_size > self.config.chunk_size_bytes {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L70 | `pub chunk_size_bytes: usize,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L120 | `chunk_size_bytes: 10 * 1024 * 1024, // 10MB` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L481 | `if !current_chunk.is_empty() && current_chunk_size + market_size > self.config.chunk_size_bytes {` |

</details>

---



---

<details>
            <summary>Grep search for "get_summary" â€¢ **5** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L533 | `let summary = self.manager.get_summary();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L212 | `let summary = manager.get_summary();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L675 | `pub fn get_summary(&self) -> DatasetSummary {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L212 | `let summary = manager.get_summary();` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L533 | `let summary = self.manager.get_summary();` |

</details>

---



---

<details>
            <summary>Grep search for "StorageSummary" â€¢ **0** files</summary>
        
No results found
</details>

---



---



---



---



---



---

Read file: src/markets/fetcher.rs

---



---

<details>
            <summary>Grep search for "primary_token" â€¢ **0** files</summary>
        
No results found
</details>

---



---



---



---

<details>
            <summary>Grep search for "MarketFetcher::new" â€¢ **0** files</summary>
        
No results found
</details>

---



---

<details>
            <summary>Grep search for "MarketFetcher.*new" â€¢ **0** files</summary>
        
No results found
</details>

---



---



---



---

Read file: src/markets/fetcher.rs

---



---

<details>
            <summary>Grep search for "save_progress" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L74 | `pub save_progress_every_n_pages: usize,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L124 | `save_progress_every_n_pages: 25,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L499 | `if progress.pages_fetched % self.config.save_progress_every_n_pages == 0 {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L74 | `pub save_progress_every_n_pages: usize,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L124 | `save_progress_every_n_pages: 25,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L499 | `if progress.pages_fetched % self.config.save_progress_every_n_pages == 0 {` |

</details>

---



---

Read file: src/markets/enrich.rs

---



---



---



---

Read file: src/orders.rs

---



---

<details>
            <summary>Grep search for "with_config" â€¢ **4** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L367 | `pub fn with_config(provider: T, storage: MarketStorage, config: FetcherConfig) -> Self {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetch/clob_fetch.rs` | L49 | `let mut fetcher = MarketFetcher::with_config(provider, storage, config);` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetch/gamma_fetch.rs` | L46 | `let mut fetcher = MarketFetcher::with_config(provider, storage, config);` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L367 | `pub fn with_config(provider: T, storage: MarketStorage, config: FetcherConfig) -> Self {` |

</details>

---



---



---



---



---



---



---



---

Read file: src/orders.rs

---



---



---



---

Read file: src/ws/client.rs

---



---



---



---



---



---

Read file: src/ws/client.rs

---



---



---



---



---



---



---



---



---



---

<details>
            <summary>Grep search for "ReconnectionFailed" â€¢ **0** files</summary>
        
No results found
</details>

---



---

<details>
            <summary>Grep search for "NotConnected" â€¢ **0** files</summary>
        
No results found
</details>

---



---

<details>
            <summary>Grep search for "WsCommand::Ping" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L143 | `.send(WsCommand::Ping)` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L276 | `Some(WsCommand::Ping) => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L143 | `.send(WsCommand::Ping)` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L276 | `Some(WsCommand::Ping) => {` |

</details>

---



---



---



---

<details>
            <summary>Grep search for "\.ping\(\)" â€¢ **0** files</summary>
        
No results found
</details>

---



---



---



---

<details>
            <summary>Grep search for "Ping" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L32 | `/// Send ping` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L33 | `Ping,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L267 | `Some(WsCommand::Ping) => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L268 | `debug!("Sending ping");` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L269 | `write.send(Message::Ping(vec![].into())).await?;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L293 | `debug!("Sending heartbeat ping");` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L294 | `if let Err(e) = write.send(Message::Ping(vec![].into())).await {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L32 | `/// Send ping` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L33 | `Ping,` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L267 | `Some(WsCommand::Ping) => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L268 | `debug!("Sending ping");` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L269 | `write.send(Message::Ping(vec![].into())).await?;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L293 | `debug!("Sending heartbeat ping");` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/client.rs` | L294 | `if let Err(e) = write.send(Message::Ping(vec![].into())).await {` |

</details>

---



---



---



---



---



---

<details>
            <summary>Grep search for "HashMismatch" â€¢ **1** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L12 | `HashMismatch { expected: String, computed: String },` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L77 | `return Err(StateError::HashMismatch {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L126 | `return Err(StateError::HashMismatch {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L339 | `assert!(matches!(result, Err(StateError::HashMismatch { .. })));` |

</details>

---



---

Read file: src/ws/events.rs

---



---



---



---

<details>
            <summary>Grep search for "Trade \{.*timestamp" â€¢ **0** files</summary>
        
No results found
</details>

---



---

<details>
            <summary>Grep search for "PolyEvent::Trade" â€¢ **4** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/events.rs` | L275 | `Ok(PolyEvent::Trade {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/daemon.rs` | L174 | `PolyEvent::Trade { asset_id, price, size, side, .. } => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/stream.rs` | L198 | `PolyEvent::Trade { asset_id, price, size, side, .. } if self.args.show_trades => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/events.rs` | L275 | `Ok(PolyEvent::Trade {` |

</details>

---



---

<details>
            <summary>Grep search for "PolyEvent::MyOrder" â€¢ **3** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/events.rs` | L286 | `Ok(PolyEvent::MyOrder {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/stream.rs` | L213 | `PolyEvent::MyOrder { asset_id, side, price, size, status, .. } if self.args.show_user => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/events.rs` | L286 | `Ok(PolyEvent::MyOrder {` |

</details>

---



---

<details>
            <summary>Grep search for "PolyEvent::MyTrade" â€¢ **4** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/events.rs` | L298 | `Ok(PolyEvent::MyTrade {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/stream.rs` | L229 | `PolyEvent::MyTrade { asset_id, side, price, size, .. } if self.args.show_user => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/daemon.rs` | L184 | `PolyEvent::MyTrade { asset_id, side, price, size, .. } => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/events.rs` | L298 | `Ok(PolyEvent::MyTrade {` |

</details>

---



---

<details>
            <summary>Grep search for "InvalidPriceLevel" â€¢ **0** files</summary>
        
No results found
</details>

---



---



---



---

<details>
            <summary>Grep search for "\.mid_price\(\)" â€¢ **0** files</summary>
        
No results found
</details>

---



---

<details>
            <summary>Grep search for "\.spread\(\)|\.total_bid_size\(\)|\.total_ask_size\(\)|\.depth\(\)|\.levels\(\)|\.is_empty\(\)" â€¢ **29** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L107 | `if !self.config.market_assets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L383 | `assert!(config.market_assets.is_empty());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/errors.rs` | L26 | `let suggestion_text = if suggestions.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/errors.rs` | L48 | `let suggestion_text = if suggestions.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/errors.rs` | L159 | `let suggestion_text = if suggestions.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/errors.rs` | L255 | `assert!(!suggestions.is_empty());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L20 | `let mid_price = if !orderbook.bids.is_empty() && !orderbook.asks.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L54 | `if !relevant_bids.is_empty() && !relevant_asks.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L85 | `if relevant_bids.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L116 | `if relevant_asks.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/orderbook.rs` | L144 | `if !relevant_bids.is_empty() || !relevant_asks.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/providers.rs` | L47 | `if c == "LTE=" || c.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/providers.rs` | L68 | `Some(cursor) => !cursor.is_empty() && cursor != "LTE=",` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/providers.rs` | L135 | `let next_token = if self.has_reached_end || markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/providers.rs` | L179 | `cursor.filter(|s| !s.is_empty())` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/search.rs` | L57 | `if found_markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/search.rs` | L114 | `if found_markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/search.rs` | L281 | `if !related_markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/pipeline.rs` | L161 | `if pipelines.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/pipeline.rs` | L176 | `if !pipeline.description.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/daemon.rs` | L61 | `if self.args.assets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/daemon.rs` | L199 | `if order_books.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/stream.rs` | L74 | `if self.args.assets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/stream.rs` | L255 | `if !summaries.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L69 | `if self.args.interactive || (!self.args.list && !self.args.summary && self.args.delete.is_empty() && self.args.filter_type.is_none()) {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L79 | `if !self.args.delete.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L129 | `if self.args.delete.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L147 | `if !missing_datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L222 | `if !summary.type_counts.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L251 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L265 | `if filtered_datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L294 | `if !dataset.command_info.detected_commands.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L303 | `if !dataset.warnings.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L311 | `if !dataset.files.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L366 | `if pipeline_name.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L412 | `if token == "LTE=" || token.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L445 | `if raw_markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L463 | `if !current_chunk.is_empty() && current_chunk_size + market_size > self.config.chunk_size_bytes {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L506 | `if token == "LTE=" || token.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L515 | `if !current_chunk.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L614 | `Some(condition_id) if !condition_id.trim().is_empty() => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L713 | `if t != "LTE=" && !t.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/analyze.rs` | L201 | `if filtered_markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/analyze.rs` | L261 | `if data_files.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/analyze.rs` | L726 | `if !stats.price_distribution.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/analyze.rs` | L740 | `if self.output_config.detailed && !stats.top_categories.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/filtered.rs` | L77 | `if display_markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L387 | `if enrichment_types.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L398 | `if components.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/list.rs` | L61 | `if filtered_markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L36 | `if markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L43 | `if cursor.is_none() || cursor.as_ref().map(|c| c.is_empty() || c == "LTE=").unwrap_or(true) {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L162 | `if orderbook.bids.is_empty() || orderbook.asks.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L233 | `if display_markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/active.rs` | L372 | `.filter(|s| !s.is_empty() && s != "LTE=") // "LTE=" means the end` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/cache.rs` | L218 | `if cursor.is_none() || cursor.as_ref().map(|c| c.is_empty()).unwrap_or(true) {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/cache.rs` | L243 | `if markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/cache.rs` | L276 | `.filter(|s| !s.is_empty() && s != "LTE=")` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/config.rs` | L45 | `if passphrase.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L75 | `if !app.manager.get_datasets().is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L127 | `if !self.marked_for_deletion.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L169 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L185 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L208 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L234 | `if self.marked_for_deletion.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L248 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L354 | `let title = if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L366 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L474 | `if !dataset.command_info.detected_commands.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L495 | `if !dataset.warnings.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L681 | `if self.manager.get_datasets().is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L570 | `if market.tokens.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L621 | `warnings: if warnings.is_empty() { None } else { Some(warnings) },` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L766 | `let avg_processing_time = if !markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L306 | `} else if !dataset_warnings.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L383 | `if !metadata.command_info.args.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L387 | `if !metadata.description.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L479 | `if !fetch_evidence.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L492 | `if !analyze_evidence.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L505 | `if !enrich_evidence.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L525 | `let confidence = if confidence_scores.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L559 | `if command_info.detected_commands.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L561 | `return !files.is_empty(); // At least has some files` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L599 | `if sub_commands.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/manager.rs` | L667 | `if !errors.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/orders.rs` | L521 | `if response.orders.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/tui.rs` | L65 | `if !app.pipelines.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/tui.rs` | L149 | `if self.pipelines.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/tui.rs` | L164 | `if self.pipelines.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/tui.rs` | L247 | `let title = if self.pipelines.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/tui.rs` | L258 | `if self.pipelines.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/tui.rs` | L388 | `let help_text = if self.pipelines.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/runner.rs` | L136 | `if !pipeline.description.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/runner.rs` | L291 | `if self.verbose && !output.stdout.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/runner.rs` | L298 | `let error_details = if !stderr_output.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/pipeline/runner.rs` | L300 | `} else if !stdout_output.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L570 | `if market.tokens.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L621 | `warnings: if warnings.is_empty() { None } else { Some(warnings) },` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/enrich.rs` | L766 | `let avg_processing_time = if !markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L69 | `if self.args.interactive || (!self.args.list && !self.args.summary && self.args.delete.is_empty() && self.args.filter_type.is_none()) {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L79 | `if !self.args.delete.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L129 | `if self.args.delete.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L147 | `if !missing_datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L222 | `if !summary.type_counts.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L251 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L265 | `if filtered_datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L294 | `if !dataset.command_info.detected_commands.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L303 | `if !dataset.warnings.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L311 | `if !dataset.files.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/datasets.rs` | L366 | `if pipeline_name.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L412 | `if token == "LTE=" || token.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L445 | `if raw_markets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L463 | `if !current_chunk.is_empty() && current_chunk_size + market_size > self.config.chunk_size_bytes {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L506 | `if token == "LTE=" || token.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L515 | `if !current_chunk.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L614 | `Some(condition_id) if !condition_id.trim().is_empty() => {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/fetcher.rs` | L713 | `if t != "LTE=" && !t.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L387 | `if enrichment_types.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/mod.rs` | L398 | `if components.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L75 | `if !app.manager.get_datasets().is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L127 | `if !self.marked_for_deletion.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L169 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L185 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L208 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L234 | `if self.marked_for_deletion.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L248 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L354 | `let title = if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L366 | `if datasets.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L474 | `if !dataset.command_info.detected_commands.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L495 | `if !dataset.warnings.is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/datasets/tui.rs` | L681 | `if self.manager.get_datasets().is_empty() {` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/orders.rs` | L521 | `if response.orders.is_empty() {` |

</details>

---



---

<details>
            <summary>Grep search for "OrderBook::" â€¢ **4** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L312 | `.or_insert_with(|| OrderBook::new(asset_id.to_string()));` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L272 | `let book = OrderBook::new("test_asset".to_string());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L281 | `let mut book = OrderBook::new("test_asset".to_string());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L305 | `let mut book = OrderBook::new("test_asset".to_string());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L330 | `let mut book = OrderBook::new("test_asset".to_string());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/markets/mod.rs` | L21 | `pub use orderbook::show_orderbook;` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L272 | `let book = OrderBook::new("test_asset".to_string());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L281 | `let mut book = OrderBook::new("test_asset".to_string());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L305 | `let mut book = OrderBook::new("test_asset".to_string());` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/ws/state.rs` | L330 | `let mut book = OrderBook::new("test_asset".to_string());` |

</details>

---



---

Read file: src/services/streamer.rs

---



---

<details>
            <summary>Grep search for "\.summary\(\)" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/services/streamer.rs` | L361 | `.map(|entry| entry.value().summary())` |
| `file:///Users/alexandrumurtaza/work/tp/polybot/src/cli/commands/stream.rs` | L253 | `let summaries = streamer.summary();` |

</details>

---



---

<details>
            <summary>Grep search for "ClientNotAvailable" â€¢ **0** files</summary>
        
No results found
</details>

---



---



---



---

Read file: src/pipeline/mod.rs

---



---



---



---



---



---

Read file: src/pipeline/config.rs

---



---



---



---



---



---



---



---



---



---



---



---

<details>
            <summary>Grep search for "ensure_pipelines_dir" â€¢ **0** files</summary>
        
No results found
</details>

---



---



---



---

Cancelled

---



---

